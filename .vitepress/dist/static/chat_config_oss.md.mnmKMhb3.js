import{_ as e,c as o,ag as l,o as i}from"./chunks/framework.BHdmj1Zv.js";const g=JSON.parse('{"title":"对象存储设置","description":"","frontmatter":{},"headers":[],"relativePath":"chat/config/oss.md","filePath":"chat/config/oss.md","lastUpdated":1737634698000}'),s={name:"chat/config/oss.md"};function t(c,a,n,r,d,h){return i(),o("div",null,a[0]||(a[0]=[l(`<h1 id="对象存储设置" tabindex="-1">对象存储设置 <a class="header-anchor" href="#对象存储设置" aria-label="Permalink to &quot;对象存储设置&quot;">​</a></h1><p>本教程将指导您如何配置腾讯云 COS（对象存储），包括创建存储桶、设置访问权限以及迁移数据等操作。</p><hr><h2 id="腾讯云-cos" tabindex="-1">腾讯云 COS <a class="header-anchor" href="#腾讯云-cos" aria-label="Permalink to &quot;腾讯云 COS&quot;">​</a></h2><h3 id="说明" tabindex="-1">说明 <a class="header-anchor" href="#说明" aria-label="Permalink to &quot;说明&quot;">​</a></h3><p>腾讯云 COS 的配置不是必须的，按实际需要配置。</p><hr><h3 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置" aria-label="Permalink to &quot;配置&quot;">​</a></h3><h4 id="步骤-1-登录腾讯云" tabindex="-1">步骤 1：登录腾讯云 <a class="header-anchor" href="#步骤-1-登录腾讯云" aria-label="Permalink to &quot;步骤 1：登录腾讯云&quot;">​</a></h4><ol><li>打开 <a href="https://cloud.tencent.com/" target="_blank" rel="noreferrer">腾讯云官网</a>，使用腾讯云账号登录。</li><li>单击右上角头像，选择【访问管理】。</li></ol><p><img src="https://doc.chatmoney.cn/docs/images/general/config/oss/cos-1.png" alt="访问管理"></p><hr><h4 id="步骤-2-获取-api-密钥" tabindex="-1">步骤 2：获取 API 密钥 <a class="header-anchor" href="#步骤-2-获取-api-密钥" aria-label="Permalink to &quot;步骤 2：获取 API 密钥&quot;">​</a></h4><ol><li>在腾讯云后台，点击【访问密钥】-&gt;【API 密钥管理】。</li><li>如果没有密钥，则新建密钥。</li><li>登录系统管理后台，点击【系统设置】-&gt;【存储设置】，找到腾讯云 COS，点击【设置】。</li><li>从腾讯云后台复制 <code>SecretId</code> 和 <code>SecretKey</code>，粘贴到系统管理后台的对应选项。</li></ol><p><img src="https://doc.chatmoney.cn/docs/images/general/config/oss/cos-2.png" alt="API 密钥管理"></p><hr><h4 id="步骤-3-进入对象存储页面" tabindex="-1">步骤 3：进入对象存储页面 <a class="header-anchor" href="#步骤-3-进入对象存储页面" aria-label="Permalink to &quot;步骤 3：进入对象存储页面&quot;">​</a></h4><ol><li>在腾讯云后台，点击【云产品】-&gt;【对象存储】，进入对象存储设置页面。</li></ol><p><img src="https://doc.chatmoney.cn/docs/images/general/config/oss/cos-3.png" alt="对象存储"></p><hr><h4 id="步骤-4-创建存储桶" tabindex="-1">步骤 4：创建存储桶 <a class="header-anchor" href="#步骤-4-创建存储桶" aria-label="Permalink to &quot;步骤 4：创建存储桶&quot;">​</a></h4><ol><li>点击【创建存储桶】。</li><li>根据需要选择【所属地区】，填写【名称】，选择【公有读私有写】，点击【下一步】。</li></ol><p><img src="https://doc.chatmoney.cn/docs/images/general/config/oss/cos-4.png" alt="创建存储桶"></p><hr><h4 id="步骤-5-完成创建" tabindex="-1">步骤 5：完成创建 <a class="header-anchor" href="#步骤-5-完成创建" aria-label="Permalink to &quot;步骤 5：完成创建&quot;">​</a></h4><ol><li>点击【下一步】，然后点击【创建】。</li></ol><p><img src="https://doc.chatmoney.cn/docs/images/general/config/oss/cos-5.png" alt="完成创建"><img src="https://doc.chatmoney.cn/docs/images/general/config/oss/cos-6.png" alt="创建成功"></p><hr><h4 id="步骤-6-配置存储桶信息" tabindex="-1">步骤 6：配置存储桶信息 <a class="header-anchor" href="#步骤-6-配置存储桶信息" aria-label="Permalink to &quot;步骤 6：配置存储桶信息&quot;">​</a></h4><ol><li>点击【概况】，复制【存储桶名称】、【访问域名】、【所属地区】。</li><li>将这些信息分别填写到系统管理后台的【存储空间名称】、【空间域名】、【REGION】输入框中。</li><li>选择【状态】为开启，点击【保存】。</li></ol><p><img src="https://doc.chatmoney.cn/docs/images/general/config/oss/cos-7.png" alt="配置存储桶"></p><hr><h2 id="注意事项" tabindex="-1">注意事项 <a class="header-anchor" href="#注意事项" aria-label="Permalink to &quot;注意事项&quot;">​</a></h2><h3 id="迁移数据" tabindex="-1">迁移数据 <a class="header-anchor" href="#迁移数据" aria-label="Permalink to &quot;迁移数据&quot;">​</a></h3><ol><li><p><strong>PHP 版</strong>：</p><ul><li>将 <code>server/public</code> 下的 <code>resource</code> 目录和 <code>uploads</code> 目录复制到 OSS 空间的根目录。</li><li>确保原来的资源图片可以正常显示。</li></ul></li><li><p><strong>Java 版</strong>：</p><ul><li>将 <code>/public/uploads</code> 目录复制到 OSS 空间的根目录。</li><li>新建名为 <code>api</code> 的目录，将 <code>server/like-common/src/main/resources/static</code> 目录复制到 <code>api</code> 中。</li><li>上传完成后，图片路径示例：<code>/api/static/xxxxp.png</code>。</li></ul></li></ol><hr><h3 id="跨域设置" tabindex="-1">跨域设置 <a class="header-anchor" href="#跨域设置" aria-label="Permalink to &quot;跨域设置&quot;">​</a></h3><ol><li><p>使用对象存储后，需要设置资源允许跨域。</p></li><li><p>打开跨域相关设置，配置如下：</p><div class="language-plaintext vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">plaintext</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>*</span></span>
<span class="line"><span>access-control-allow-credentials: true</span></span>
<span class="line"><span>access-control-allow-origin: *</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div></li></ol><p><img src="https://doc.chatmoney.cn/docs/images/general/config/oss/demo.png" alt="跨域设置"></p><hr><h2 id="至此对象存储配置完成" tabindex="-1">至此对象存储配置完成 <a class="header-anchor" href="#至此对象存储配置完成" aria-label="Permalink to &quot;至此对象存储配置完成&quot;">​</a></h2><p>通过以上步骤，您可以顺利完成腾讯云 COS 的配置工作。如有任何问题，请参考相关文档或联系技术支持。</p>`,42)]))}const m=e(s,[["render",t]]);export{g as __pageData,m as default};
