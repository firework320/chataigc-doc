import{_ as e,c as s,ag as n,o as l}from"./chunks/framework.BHdmj1Zv.js";const h=JSON.parse('{"title":"Dalle绘画配置","description":"","frontmatter":{},"headers":[],"relativePath":"work/java/other/dalle.md","filePath":"work/java/other/dalle.md","lastUpdated":1740128321000}'),r={name:"work/java/other/dalle.md"};function t(o,a,i,p,c,d){return l(),s("div",null,a[0]||(a[0]=[n(`<h1 id="dalle绘画配置" tabindex="-1">Dalle绘画配置 <a class="header-anchor" href="#dalle绘画配置" aria-label="Permalink to &quot;Dalle绘画配置&quot;">​</a></h1><div class="danger custom-block"><p class="custom-block-title">提示</p><p>DALLE-3绘画目前使用官方渠道,由于网络原因需先配置API代理域名.<br> DALLE-3绘画需设置任务提交队列，请按各自项目部署的方式选择对应的队列配置方式.<br> 若在宝塔或Linux中使用docker部署项目则按【docker部署】配置.<br> 若在宝塔中部署项目未使用docker则按【宝塔部署(非Docker)】配置.</p></div><h2 id="绘画任务队列配置" tabindex="-1">绘画任务队列配置 <a class="header-anchor" href="#绘画任务队列配置" aria-label="Permalink to &quot;绘画任务队列配置&quot;">​</a></h2><h3 id="docker部署" tabindex="-1">Docker部署: <a class="header-anchor" href="#docker部署" aria-label="Permalink to &quot;Docker部署:&quot;">​</a></h3><ul><li><strong>步骤1</strong>: 查看项目docker/config/supervisor/supervisor.ini是否存在任务进程配置,若不存在则添加并重启php容器即可.</li><li><img src="https://doc.chatmoney.cn/docs/images/general/config/dalle/sup_config.png" alt=""></li></ul><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>    [program:dalle3]</span></span>
<span class="line"><span>    command=/usr/local/bin/php think queue:listen --timeout 300 --queue ChatMoneyDalleJob</span></span>
<span class="line"><span>    directory=/server</span></span>
<span class="line"><span>    autostart=true</span></span>
<span class="line"><span>    autorestart=true</span></span>
<span class="line"><span>    stderr_logfile=/var/log/dalle3.err.log</span></span>
<span class="line"><span>    stdout_logfile=/var/log/dalle3.out.log</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="宝塔部署-非docker" tabindex="-1">宝塔部署(非Docker): <a class="header-anchor" href="#宝塔部署-非docker" aria-label="Permalink to &quot;宝塔部署(非Docker):&quot;">​</a></h3><ul><li><strong>步骤1</strong>: 打开并登录宝塔,单击【软件商店】,安装进程守护管理器.<img src="https://doc.chatmoney.cn/docs/images/general/config/dalle/install_sup.png" alt=""></li><li><strong>步骤2</strong>: 添加守护进程.<img src="https://doc.chatmoney.cn/docs/images/general/config/dalle/add_task.png" alt=""></li></ul><div class="danger custom-block"><p class="custom-block-title">注意</p><p>启动命令: php80 think queue:listen --queue ChatMoneyDalleJob --timeout 300<br> 如果宝塔中仅安装一个php的情况启动命令中php80需更改为php.<br> 添加完守护进程后查看进程状态及日志,若状态异常或日志有报错信息则视实际情况调整</p></div>`,9)]))}const m=e(r,[["render",t]]);export{h as __pageData,m as default};
